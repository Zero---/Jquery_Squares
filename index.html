<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Jquery Squares</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<script>

			function changecolor(){
				//rand number 1-360
				function rand(min, max) {
					return min + Math.random() * (max - min);
				}

				function randColor() {
			        var h = rand(1, 360);
			        return 'hsl(' + h + ',100%,50%)';
			    }

				$('.squares').mouseenter(function() {
					$(this).css('background-color', randColor);
				});
			}


		$(function(){
			$('#container').append('<div class="row" id="row1"></div>');
			$('#container').append('<div class="row" id="row2"></div>');
			$('#container').append('<div class="row" id="row3"></div>');
			$('#container').append('<div class="row" id="row4"></div>');

			for (var i = 1; i <= 4; i++) {
				$('#row1').append('<div class="squares"></div>');	
			};

			for (var i = 1; i <= 4; i++) {
				$('#row2').append('<div class="squares"></div>');	
			};

			for (var i = 1; i <= 4; i++) {
				$('#row3').append('<div class="squares"></div>');	
			};

			for (var i = 1; i <= 4; i++) {
				$('#row4').append('<div class="squares"></div>');	
			};

			changecolor();
		})


		function newGrid(){

			$('.row').remove();
			var amount;
		    var input=prompt("Please enter the amount");
		    if (input!=null){
		    	amount=input;
		    	confirm();
		   };

			function confirm() {
				rowamount = Math.sqrt(amount);

				for (var i = 1; i <= rowamount; i++) {
					$('#container').append('<div class="row" id="row'+i+'"></div>');
					for (var j = 0; j < rowamount; j++) {
						$('#row'+i).append('<div class="squares"></div>');
					};
					
				};
			};
			changecolor();
		};

	</script>
</head>
<body>
	
	<button onclick="newGrid()">New Grid</button>
	<div id="center">
		<div id="container"></div>	
	</div>


</body>
</html>